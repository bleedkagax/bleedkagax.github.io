<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Blog | Kaga Blog</title>
<meta name=keywords content><meta name=description content><meta name=author content><link rel=canonical href=https://bleedkagax.github.io/tags/blog/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://bleedkagax.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://bleedkagax.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://bleedkagax.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://bleedkagax.github.io/apple-touch-icon.png><link rel=mask-icon href=https://bleedkagax.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://bleedkagax.github.io/tags/blog/index.xml><link rel=alternate hreflang=en href=https://bleedkagax.github.io/tags/blog/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Blog"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://bleedkagax.github.io/tags/blog/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Blog"><meta name=twitter:description content></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bleedkagax.github.io/ accesskey=h title="Kaga Blog (Alt + H)">Kaga Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bleedkagax.github.io/post/ title=Posts><span>Posts</span></a></li><li><a href=https://bleedkagax.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://bleedkagax.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://bleedkagax.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Blog</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>AI：Advanced Tool Use</h2></header><div class=entry-content><p>Advanced Tool Use 来源：https://www.anthropic.com/engineering/advanced-tool-use
图示 Tool Search Tool 对比图（Context Usage: Traditional vs. Tool Search Tool）
Programmatic Tool Calling 流程图（Programmatic Tool Calling Flow）
核心要点 整体目标：解决三个老问题
工具太多：定义太长，把上下文挤爆 链路太长：工具链一长，来回调用慢且耗 tokens 仅靠 Schema 不够：只有 JSON Schema 时，模型仍会经常填错参数/用错工具 Tool Search Tool（工具搜索）：
不再一次性把几十上百个工具定义全部塞进上下文，而是只提前加载一个“搜索工具 + 少数高频工具”。当 Claude 需要某类能力时，先用搜索工具按名字/描述去检索，再按需把少量匹配工具的定义展开进上下文。
收益：减少 token 开销（官方示例：上下文消耗可降低 80%+），同时降低“选错工具”的概率 适用：MCP 多服务、工具数量 10+ 的场景 Programmatic Tool Calling（编程式工具调用）：
以前是“自然语言 → 一次推理 → 调一个工具 → 结果全丢回模型上下文”，多步流程就意味着多次推理 + 大量中间数据灌进上下文。现在改成：Claude 写一段 Python 脚本，在沙盒里 orchestrate 工具调用（循环、并发、条件分支都写在代码里），工具结果先在代码里处理，最后只把“结论”返回给 Claude。
...</p></div><footer class=entry-footer><span title='2025-12-21 00:00:00 +0000 UTC'>December 21, 2025</span></footer><a class=entry-link aria-label="post link to AI：Advanced Tool Use" href=https://bleedkagax.github.io/post/advanced_tool_use/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>AI：评估AI Agent的上下文压缩策略</h2></header><div class=entry-content><p>评估AI Agent的上下文压缩策略 执行摘要 长会话超出上下文窗口会让AI Agent丢失关键信息。Factory.ai为此构建了基于探针的评估框架，用来衡量不同上下文压缩策略的“功能质量”。对比Factory、OpenAI与Anthropic三种方法，Factory的“锚定迭代式摘要”在保留技术细节上最佳：通过持续维护并增量合并结构化摘要，在准确性与上下文感知上领先，说明结构比单纯的压缩率更决定任务成败。
1. 核心问题：长对话中的上下文丢失 AI Agent在调试、代码审查或功能实现等复杂任务中，会产生数百万Token的对话历史，远超模型上下文窗口。激进压缩常导致代理遗忘关键信息（如改动过的文件、已尝试的方案），从而反复读取、重复探索。
研究指出，优化目标不应是“单次请求的Token数”（tokens per request），而应是“完成任务所需的总Token数”（tokens per task）。更高质量的上下文保留能减少返工，进而降低总消耗。
2. 评估框架：基于探针的功能性质询 传统摘要指标（如ROUGE或嵌入相似度）无法回答关键问题：压缩后的上下文还能否支撑代理继续工作。Factory.ai因此设计探针评估：向压缩后的代理提问必须依赖具体历史细节的问题，以直接衡量其功能质量。
探针类型 该框架使用四种探针，覆盖不同维度的信息保留：
探针类型 测试内容 示例问题 回忆（Recall） 事实性信息的保留 “最初的错误信息是什么？” 工件（Artifact） 文件追踪 “我们修改了哪些文件？描述每个文件的变化。” 延续（Continuation） 任务规划 “我们下一步该做什么？” 决策（Decision） 推理链 “我们针对Redis问题讨论了哪些方案，最终决定是什么？” 评估维度 由LLM裁判（GPT-5.2）按六个维度评分（0-5分），面向软件开发场景：
...</p></div><footer class=entry-footer><span title='2025-12-21 00:00:00 +0000 UTC'>December 21, 2025</span></footer><a class=entry-link aria-label="post link to AI：评估AI Agent的上下文压缩策略" href=https://bleedkagax.github.io/post/context_compression_evaluation/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>English：N+1 的复利</h2></header><div class=entry-content><p>三大马车之一–English：N+1 的复利 English 这个世界上90%的信息都是 written in English 的。
可理解性输入 南加州大学的荣休教授斯蒂芬•克拉申（Stephen D.Krashen）博士的假说理论
罗肖尼
https://m.bilibili.com/video/BV1aD4y127GE
阅读篇 词汇积累 ...</p></div><footer class=entry-footer><span title='2024-11-11 00:00:00 +0000 UTC'>November 11, 2024</span></footer><a class=entry-link aria-label="post link to English：N+1 的复利" href=https://bleedkagax.github.io/post/share_11_14_english/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Fitness：N+1 的复利</h2></header><div class=entry-content><p>三大马车之一–Fitness：N+1 的复利 Fitness 训练概况 微习惯 从徒手训练到健身房 新手上路，从观看健身视频开始，
实战类, 详细动作教程：凯圣王 https://m.bilibili.com/space/2100737396 日常类, 健身经验分享：烧毁一切就是美 https://m.bilibili.com/space/1024129080 理论类, 健身知识科普：仰望尾迹云 https://m.bilibili.com/space/1879203169 训练思路 ...</p></div><footer class=entry-footer><span title='2024-11-11 00:00:00 +0000 UTC'>November 11, 2024</span></footer><a class=entry-link aria-label="post link to Fitness：N+1 的复利" href=https://bleedkagax.github.io/post/share_11_14_fitness/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>correction of anterior humerus</h2></header><div class=entry-content><p>Stretching pectoralis major and pectoralis minor Stretching the anterior shoulder girdle External rotation with internal rotation of the shoulder joint Internal rotation with external rotation of the shoulder joint Assisted Humeral Push-Up and Lateral Raise</p></div><footer class=entry-footer><span title='2024-09-05 00:00:00 +0000 UTC'>September 5, 2024</span></footer><a class=entry-link aria-label="post link to correction of anterior humerus" href=https://bleedkagax.github.io/post/correction-of-anterior-humerus/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://bleedkagax.github.io/>Kaga Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script><script>(function(){var e=document.querySelectorAll("pre > code.language-mermaid");e.forEach(function(e){var t,n=e.parentElement;if(!n)return;t=document.createElement("div"),t.className="mermaid",t.textContent=e.textContent||"",n.replaceWith(t)})})()</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>