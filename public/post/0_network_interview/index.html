<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Network Interview | Kaga Blog</title>
<meta name=keywords content="Network"><meta name=description content="What is the OSI model?



Physical Layer
Data Link Layer
Network Layer
Transport Layer
Session Layer
Presentation Layer
Application Layer

Explain the difference between TCP and UDP.


TCP (Transmission Control Protocol):

Connection-oriented
Reliable, ensures all data is received
Flow control and congestion control
Slower than UDP
Used for applications requiring high reliability (e.g., file transfer, email)



UDP (User Datagram Protocol):"><meta name=author content><link rel=canonical href=https://bleedkagax.github.io/post/0_network_interview/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://bleedkagax.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://bleedkagax.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://bleedkagax.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://bleedkagax.github.io/apple-touch-icon.png><link rel=mask-icon href=https://bleedkagax.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://bleedkagax.github.io/post/0_network_interview/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Network Interview"><meta property="og:description" content="What is the OSI model?



Physical Layer
Data Link Layer
Network Layer
Transport Layer
Session Layer
Presentation Layer
Application Layer

Explain the difference between TCP and UDP.


TCP (Transmission Control Protocol):

Connection-oriented
Reliable, ensures all data is received
Flow control and congestion control
Slower than UDP
Used for applications requiring high reliability (e.g., file transfer, email)



UDP (User Datagram Protocol):"><meta property="og:type" content="article"><meta property="og:url" content="https://bleedkagax.github.io/post/0_network_interview/"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-10-04T00:00:00+00:00"><meta property="article:modified_time" content="2024-10-04T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Network Interview"><meta name=twitter:description content="What is the OSI model?



Physical Layer
Data Link Layer
Network Layer
Transport Layer
Session Layer
Presentation Layer
Application Layer

Explain the difference between TCP and UDP.


TCP (Transmission Control Protocol):

Connection-oriented
Reliable, ensures all data is received
Flow control and congestion control
Slower than UDP
Used for applications requiring high reliability (e.g., file transfer, email)



UDP (User Datagram Protocol):"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bleedkagax.github.io/post/"},{"@type":"ListItem","position":2,"name":"Network Interview","item":"https://bleedkagax.github.io/post/0_network_interview/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Network Interview","name":"Network Interview","description":"What is the OSI model? Physical Layer Data Link Layer Network Layer Transport Layer Session Layer Presentation Layer Application Layer Explain the difference between TCP and UDP. TCP (Transmission Control Protocol):\nConnection-oriented Reliable, ensures all data is received Flow control and congestion control Slower than UDP Used for applications requiring high reliability (e.g., file transfer, email) UDP (User Datagram Protocol):\n","keywords":["Network"],"articleBody":"What is the OSI model? Physical Layer Data Link Layer Network Layer Transport Layer Session Layer Presentation Layer Application Layer Explain the difference between TCP and UDP. TCP (Transmission Control Protocol):\nConnection-oriented Reliable, ensures all data is received Flow control and congestion control Slower than UDP Used for applications requiring high reliability (e.g., file transfer, email) UDP (User Datagram Protocol):\nConnectionless Unreliable, doesn’t guarantee data delivery No flow control or congestion control Faster than TCP Used for applications that prioritize speed (e.g., video streaming, online gaming) What is DNS and how does it work? DNS (Domain Name System) is a hierarchical and decentralized naming system for computers, services, or other resources connected to the Internet or a private network. It translates human-readable domain names (e.g., www.example.com) into IP addresses.\nProcess:\nUser enters a URL in the browser Browser checks its cache for DNS record If not found, it queries the OS If still not found, it contacts a DNS resolver The resolver queries root servers, then TLD servers, then authoritative name servers The IP address is returned to the browser What is a subnet and subnet mask? A subnet is a logical subdivision of an IP network. A subnet mask is a 32-bit number that masks an IP address, and divides the IP address into network address and host address.\nSubnetting allows for more efficient use of IP addresses and improved network performance.\nExplain the concept of ARP (Address Resolution Protocol). ARP is a protocol used to map an IP address to a physical machine address (MAC address) in a local network.\nProcess:\nDevice wants to send a packet to an IP address It checks its ARP cache for the corresponding MAC address If not found, it broadcasts an ARP request The device with the matching IP address responds with its MAC address The sender updates its ARP cache and sends the packet What is the difference between a hub, switch, and router? Hub: Layer 1 device, broadcasts data to all ports Switch: Layer 2 device, forwards data to specific port based on MAC address Router: Layer 3 device, forwards data between different networks based on IP address Explain the three-way handshake in TCP. The three-way handshake is used to establish a TCP connection:\nSYN: Client sends a SYN packet to the server SYN-ACK: Server responds with a SYN-ACK packet ACK: Client sends an ACK packet to the server What is DHCP and what is it used for? DHCP (Dynamic Host Configuration Protocol) is a network management protocol used to dynamically assign an IP address to any device, or node, on a network so it can communicate using IP.\nDHCP automates and centrally manages these configurations rather than requiring network administrators to manually assign IP addresses to all network devices.\nDHCP Discover: The client broadcasts a request for an IP address. DHCP Offer: The DHCP server responds with an IP address offer. DHCP Request: The client requests the offered IP address. DHCP Acknowledge: The server confirms the IP address assignment. Explain the difference between IPv4 and IPv6. Feature IPv4 IPv6 Address Length 32-bit 128-bit Address Space ~4.3 billion unique addresses 340 undecillion (3.4 × 10^38) addresses Notation Dot-decimal Hexadecimal with colons Example 192.168.1.1 2001:0db8:85a3:0000:0000:8a2e:0370:7334 What is NAT and why is it used? NAT (Network Address Translation) is a method of remapping one IP address space into another by modifying network address information in the IP header of packets while they are in transit across a traffic routing device.\nNAT is primarily used to:\nConserve IPv4 addresses Improve security by hiding internal network addresses Can multiple UDP sockets bind to the same IP and port? Yes, with conditions: Most operating systems allow multiple UDP sockets to bind to the same IP and port. This is often referred to as “socket reuse” or “address reuse”. Requires setting the SO_REUSEADDR socket option before binding. Can multiple TCP sockets bind to the same IP and port? Generally No, with exceptions: Typically, only one TCP socket can bind to a specific IP and port combination. Exceptions: Different IP addresses on the same port. Same IP, different ports. Using SO_REUSEADDR for sequential (not simultaneous) bindings. Can TCP and UDP bind to the same port? Yes: TCP and UDP use separate protocol stacks. A TCP socket and a UDP socket can bind to the same port number simultaneously. The operating system distinguishes between them based on the protocol. How TCP Ensures Reliable Transmission Sequence Numbers and Acknowledgments\nEach byte of data is assigned a sequence number Receiver acknowledges receipt of data by sending ACKs Retransmission\nSender retransmits data if ACK is not received within a timeout period Implements various retransmission strategies (e.g., fast retransmit) Checksums\nUsed to detect corrupted data Receiver discards corrupt segments and doesn’t acknowledge them Flow Control\nSliding window protocol Prevents sender from overwhelming receiver Congestion Control\nSlow start Congestion avoidance Fast recovery Connection Management\nThree-way handshake for connection establishment Four-way handshake for connection termination Ordered Data Transfer\nSegments are reassembled in correct order at the receiver Duplicate Data Detection\nReceiver identifies and discards duplicate segments What is the TCP four-way handshake for connection termination? FIN from initiator: Either the client or server can initiate the termination by sending a FIN (finish) packet. ACK from receiver: The receiving end acknowledges the FIN with an ACK packet. FIN from receiver: The receiving end then sends its own FIN packet to indicate it’s ready to close. ACK from initiator: The initiating end acknowledges this FIN with a final ACK. TCP TIME-WAIT After a connection is closed, the closing party enters a TIME-WAIT state. This state typically lasts for 2 * Maximum Segment Lifetime (MSL), usually around 2-4 minutes. The TIME-WAIT state serves two main purposes:\nEnsures that any delayed packets from the closed connection are handled properly and don’t interfere with new connections. Allows for proper closure of both sides of the connection, preventing potential issues with subsequent connections. How to implement a basic TCP-like protocol using UDP？ Connection Establishment Implement a three-way handshake similar to TCP\nSequence Numbers Assign sequence numbers to each packet Use these to detect packet loss and ensure correct ordering\nAcknowledgments Receiver sends acknowledgments for received packets Sender retransmits packets that aren’t acknowledged within a timeout period\nFlow Control Implement a simple sliding window protocol Receiver advertises available buffer space\nError Detection Use checksums or CRC to detect corrupted packets Discard or request retransmission of corrupted packets\nConnection Termination Implement a four-way handshake for connection termination\nHttp Keep-Alive In this example, the idle timeout is set to ten seconds and it can accept up to 100 HTTP requests before the HTTP Connection is forcibly closed.\nResponse\nHTTP/1.1 200 OK Connection: keep-alive Content-Type: text/html; chartset=utf-8 Keep-Alive: timeout=10, max=100 Session ID and Session Key Aspect Session ID Session Key Purpose Uniquely identifies a session between client and server. Secures communication or encrypts session data. Type A random string or token. A cryptographic key. Use Case Used to look up session data on the server. Used to encrypt/decrypt data during a session. Storage Stored in cookies (client) and server memory. Stored in memory (for encryption) or negotiated during SSL/TLS. Sensitive Info Does not contain sensitive info (just an ID). Contains sensitive info (used for encryption). Security Role Identifies the user’s session, but doesn’t secure data directly. Ensures data confidentiality and integrity. Tp99 Tp95 Tp90 It represents the value below which 95% of the observations in a dataset fall.\nSort the Data: Arrange all data points in ascending order.\nCalculate the Index: Use the formula: index = (n * 0.95) + 0.5, where n is the number of data points.\nIf the result is not a whole number, round up to the nearest integer. Find the Value: The TP95 is the value at the calculated index position in the sorted dataset.\nTcp Alive fuck byte 短视频去重 bloom过滤器 原理 ，redis 中怎么支持 rocksDB 如何保证快速读写 简历一致性哈希\n","wordCount":"1308","inLanguage":"en","datePublished":"2024-10-04T00:00:00Z","dateModified":"2024-10-04T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://bleedkagax.github.io/post/0_network_interview/"},"publisher":{"@type":"Organization","name":"Kaga Blog","logo":{"@type":"ImageObject","url":"https://bleedkagax.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bleedkagax.github.io/ accesskey=h title="Kaga Blog (Alt + H)">Kaga Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bleedkagax.github.io/post/ title=Posts><span>Posts</span></a></li><li><a href=https://bleedkagax.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://bleedkagax.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://bleedkagax.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Network Interview</h1><div class=post-meta><span title='2024-10-04 00:00:00 +0000 UTC'>October 4, 2024</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#what-is-the-osi-model aria-label="What is the OSI model?">What is the OSI model?</a></li><li><a href=#explain-the-difference-between-tcp-and-udp aria-label="Explain the difference between TCP and UDP.">Explain the difference between TCP and UDP.</a></li><li><a href=#what-is-dns-and-how-does-it-work aria-label="What is DNS and how does it work?">What is DNS and how does it work?</a></li><li><a href=#what-is-a-subnet-and-subnet-mask aria-label="What is a subnet and subnet mask?">What is a subnet and subnet mask?</a></li><li><a href=#explain-the-concept-of-arp-address-resolution-protocol aria-label="Explain the concept of ARP (Address Resolution Protocol).">Explain the concept of ARP (Address Resolution Protocol).</a></li><li><a href=#what-is-the-difference-between-a-hub-switch-and-router aria-label="What is the difference between a hub, switch, and router?">What is the difference between a hub, switch, and router?</a></li><li><a href=#explain-the-three-way-handshake-in-tcp aria-label="Explain the three-way handshake in TCP.">Explain the three-way handshake in TCP.</a></li><li><a href=#what-is-dhcp-and-what-is-it-used-for aria-label="What is DHCP and what is it used for?">What is DHCP and what is it used for?</a></li><li><a href=#explain-the-difference-between-ipv4-and-ipv6 aria-label="Explain the difference between IPv4 and IPv6.">Explain the difference between IPv4 and IPv6.</a></li><li><a href=#what-is-nat-and-why-is-it-used aria-label="What is NAT and why is it used?">What is NAT and why is it used?</a></li><li><a href=#can-multiple-udp-sockets-bind-to-the-same-ip-and-port aria-label="Can multiple UDP sockets bind to the same IP and port?">Can multiple UDP sockets bind to the same IP and port?</a></li><li><a href=#can-multiple-tcp-sockets-bind-to-the-same-ip-and-port aria-label="Can multiple TCP sockets bind to the same IP and port?">Can multiple TCP sockets bind to the same IP and port?</a></li><li><a href=#can-tcp-and-udp-bind-to-the-same-port aria-label="Can TCP and UDP bind to the same port?">Can TCP and UDP bind to the same port?</a></li><li><a href=#how-tcp-ensures-reliable-transmission aria-label="How TCP Ensures Reliable Transmission">How TCP Ensures Reliable Transmission</a></li><li><a href=#what-is-the-tcp-four-way-handshake-for-connection-termination aria-label="What is the TCP four-way handshake for connection termination?">What is the TCP four-way handshake for connection termination?</a></li><li><a href=#tcp-time-wait aria-label="TCP TIME-WAIT">TCP TIME-WAIT</a></li><li><a href=#how-to-implement-a-basic-tcp-like-protocol-using-udp aria-label="How to implement a basic TCP-like protocol using UDP？">How to implement a basic TCP-like protocol using UDP？</a></li><li><a href=#http-keep-alive aria-label="Http Keep-Alive">Http Keep-Alive</a></li><li><a href=#session-id-and-session-key aria-label="Session ID and Session Key">Session ID and Session Key</a></li><li><a href=#tp99-tp95-tp90 aria-label="Tp99 Tp95 Tp90">Tp99 Tp95 Tp90</a></li><li><a href=#tcp-alive aria-label="Tcp Alive">Tcp Alive</a></li></ul></div></details></div><div class=post-content><h2 id=what-is-the-osi-model>What is the OSI model?<a hidden class=anchor aria-hidden=true href=#what-is-the-osi-model>#</a></h2><p><img loading=lazy src=/img/0_network_interview.png alt></p><ol><li>Physical Layer</li><li>Data Link Layer</li><li>Network Layer</li><li>Transport Layer</li><li>Session Layer</li><li>Presentation Layer</li><li>Application Layer</li></ol><h2 id=explain-the-difference-between-tcp-and-udp>Explain the difference between TCP and UDP.<a hidden class=anchor aria-hidden=true href=#explain-the-difference-between-tcp-and-udp>#</a></h2><ul><li><p>TCP (Transmission Control Protocol):</p><ul><li>Connection-oriented</li><li>Reliable, ensures all data is received</li><li>Flow control and congestion control</li><li>Slower than UDP</li><li>Used for applications requiring high reliability (e.g., file transfer, email)</li></ul></li><li><p>UDP (User Datagram Protocol):</p><ul><li>Connectionless</li><li>Unreliable, doesn&rsquo;t guarantee data delivery</li><li>No flow control or congestion control</li><li>Faster than TCP</li><li>Used for applications that prioritize speed (e.g., video streaming, online gaming)</li></ul></li></ul><h2 id=what-is-dns-and-how-does-it-work>What is DNS and how does it work?<a hidden class=anchor aria-hidden=true href=#what-is-dns-and-how-does-it-work>#</a></h2><p>DNS (Domain Name System) is a hierarchical and decentralized naming system for computers, services, or other resources connected to the Internet or a private network. It translates human-readable domain names (e.g., <a href=https://www.example.com>www.example.com</a>) into IP addresses.</p><p>Process:</p><ol><li>User enters a URL in the browser</li><li>Browser checks its cache for DNS record</li><li>If not found, it queries the OS</li><li>If still not found, it contacts a DNS resolver</li><li>The resolver queries root servers, then TLD servers, then authoritative name servers</li><li>The IP address is returned to the browser</li></ol><p><img loading=lazy src=/img/0_network_interview-1.png alt></p><h2 id=what-is-a-subnet-and-subnet-mask>What is a subnet and subnet mask?<a hidden class=anchor aria-hidden=true href=#what-is-a-subnet-and-subnet-mask>#</a></h2><p>A subnet is a logical subdivision of an IP network. A subnet mask is a 32-bit number that masks an IP address, and divides the IP address into network address and host address.</p><p>Subnetting allows for more efficient use of IP addresses and improved network performance.</p><p><img loading=lazy src=/img/0_network_interview-2.png alt></p><h2 id=explain-the-concept-of-arp-address-resolution-protocol>Explain the concept of ARP (Address Resolution Protocol).<a hidden class=anchor aria-hidden=true href=#explain-the-concept-of-arp-address-resolution-protocol>#</a></h2><p>ARP is a protocol used to map an IP address to a physical machine address (MAC address) in a local network.</p><p>Process:</p><ol><li>Device wants to send a packet to an IP address</li><li>It checks its ARP cache for the corresponding MAC address</li><li>If not found, it broadcasts an ARP request</li><li>The device with the matching IP address responds with its MAC address</li><li>The sender updates its ARP cache and sends the packet</li></ol><h2 id=what-is-the-difference-between-a-hub-switch-and-router>What is the difference between a hub, switch, and router?<a hidden class=anchor aria-hidden=true href=#what-is-the-difference-between-a-hub-switch-and-router>#</a></h2><ul><li>Hub: Layer 1 device, broadcasts data to all ports</li><li>Switch: Layer 2 device, forwards data to specific port based on MAC address</li><li>Router: Layer 3 device, forwards data between different networks based on IP address</li></ul><h2 id=explain-the-three-way-handshake-in-tcp>Explain the three-way handshake in TCP.<a hidden class=anchor aria-hidden=true href=#explain-the-three-way-handshake-in-tcp>#</a></h2><p>The three-way handshake is used to establish a TCP connection:</p><ol><li>SYN: Client sends a SYN packet to the server</li><li>SYN-ACK: Server responds with a SYN-ACK packet</li><li>ACK: Client sends an ACK packet to the server</li></ol><p><img loading=lazy src=/img/0_network_interview-3.png alt></p><h2 id=what-is-dhcp-and-what-is-it-used-for>What is DHCP and what is it used for?<a hidden class=anchor aria-hidden=true href=#what-is-dhcp-and-what-is-it-used-for>#</a></h2><p>DHCP (Dynamic Host Configuration Protocol) is a network management protocol used to dynamically assign an IP address to any device, or node, on a network so it can communicate using IP.</p><p>DHCP automates and centrally manages these configurations rather than requiring network administrators to manually assign IP addresses to all network devices.</p><p><img loading=lazy src=/img/0_network_interview-4.png alt></p><ol><li><strong>DHCP Discover:</strong> The client broadcasts a request for an IP address.</li><li><strong>DHCP Offer:</strong> The DHCP server responds with an IP address offer.</li><li><strong>DHCP Request:</strong> The client requests the offered IP address.</li><li><strong>DHCP Acknowledge:</strong> The server confirms the IP address assignment.</li></ol><h2 id=explain-the-difference-between-ipv4-and-ipv6>Explain the difference between IPv4 and IPv6.<a hidden class=anchor aria-hidden=true href=#explain-the-difference-between-ipv4-and-ipv6>#</a></h2><table><thead><tr><th style=text-align:left>Feature</th><th style=text-align:left>IPv4</th><th style=text-align:left>IPv6</th></tr></thead><tbody><tr><td style=text-align:left>Address Length</td><td style=text-align:left>32-bit</td><td style=text-align:left>128-bit</td></tr><tr><td style=text-align:left>Address Space</td><td style=text-align:left>~4.3 billion unique addresses</td><td style=text-align:left>340 undecillion (3.4 × 10^38) addresses</td></tr><tr><td style=text-align:left>Notation</td><td style=text-align:left>Dot-decimal</td><td style=text-align:left>Hexadecimal with colons</td></tr><tr><td style=text-align:left>Example</td><td style=text-align:left><code>192.168.1.1</code></td><td style=text-align:left><code>2001:0db8:85a3:0000:0000:8a2e:0370:7334</code></td></tr></tbody></table><h2 id=what-is-nat-and-why-is-it-used>What is NAT and why is it used?<a hidden class=anchor aria-hidden=true href=#what-is-nat-and-why-is-it-used>#</a></h2><p>NAT (Network Address Translation) is a method of remapping one IP address space into another by modifying network address information in the IP header of packets while they are in transit across a traffic routing device.</p><p>NAT is primarily used to:</p><ul><li>Conserve IPv4 addresses</li><li>Improve security by hiding internal network addresses</li></ul><h2 id=can-multiple-udp-sockets-bind-to-the-same-ip-and-port>Can multiple UDP sockets bind to the same IP and port?<a hidden class=anchor aria-hidden=true href=#can-multiple-udp-sockets-bind-to-the-same-ip-and-port>#</a></h2><ul><li><strong>Yes</strong>, with conditions:<ul><li>Most operating systems allow multiple UDP sockets to bind to the same IP and port.</li><li>This is often referred to as &ldquo;socket reuse&rdquo; or &ldquo;address reuse&rdquo;.</li><li>Requires setting the <code>SO_REUSEADDR</code> socket option before binding.</li></ul></li></ul><h2 id=can-multiple-tcp-sockets-bind-to-the-same-ip-and-port>Can multiple TCP sockets bind to the same IP and port?<a hidden class=anchor aria-hidden=true href=#can-multiple-tcp-sockets-bind-to-the-same-ip-and-port>#</a></h2><ul><li><strong>Generally No</strong>, with exceptions:<ul><li>Typically, only one TCP socket can bind to a specific IP and port combination.</li><li>Exceptions:<ul><li>Different IP addresses on the same port.</li><li>Same IP, different ports.</li><li>Using <code>SO_REUSEADDR</code> for sequential (not simultaneous) bindings.</li></ul></li></ul></li></ul><h2 id=can-tcp-and-udp-bind-to-the-same-port>Can TCP and UDP bind to the same port?<a hidden class=anchor aria-hidden=true href=#can-tcp-and-udp-bind-to-the-same-port>#</a></h2><ul><li><strong>Yes</strong>:<ul><li>TCP and UDP use separate protocol stacks.</li><li>A TCP socket and a UDP socket can bind to the same port number simultaneously.</li><li>The operating system distinguishes between them based on the protocol.</li></ul></li></ul><h2 id=how-tcp-ensures-reliable-transmission>How TCP Ensures Reliable Transmission<a hidden class=anchor aria-hidden=true href=#how-tcp-ensures-reliable-transmission>#</a></h2><ol><li><p><strong>Sequence Numbers and Acknowledgments</strong></p><ul><li>Each byte of data is assigned a sequence number</li><li>Receiver acknowledges receipt of data by sending ACKs</li></ul></li><li><p><strong>Retransmission</strong></p><ul><li>Sender retransmits data if ACK is not received within a timeout period</li><li>Implements various retransmission strategies (e.g., fast retransmit)</li></ul></li><li><p><strong>Checksums</strong></p><ul><li>Used to detect corrupted data</li><li>Receiver discards corrupt segments and doesn&rsquo;t acknowledge them</li></ul></li><li><p><strong>Flow Control</strong></p><ul><li>Sliding window protocol</li><li>Prevents sender from overwhelming receiver</li></ul></li><li><p><strong>Congestion Control</strong></p><ul><li>Slow start</li><li>Congestion avoidance</li><li>Fast recovery</li></ul></li><li><p><strong>Connection Management</strong></p><ul><li>Three-way handshake for connection establishment</li><li>Four-way handshake for connection termination</li></ul></li><li><p><strong>Ordered Data Transfer</strong></p><ul><li>Segments are reassembled in correct order at the receiver</li></ul></li><li><p><strong>Duplicate Data Detection</strong></p><ul><li>Receiver identifies and discards duplicate segments</li></ul></li></ol><h2 id=what-is-the-tcp-four-way-handshake-for-connection-termination>What is the TCP four-way handshake for connection termination?<a hidden class=anchor aria-hidden=true href=#what-is-the-tcp-four-way-handshake-for-connection-termination>#</a></h2><ol><li>FIN from initiator: Either the client or server can initiate the termination by sending a FIN (finish) packet.</li><li>ACK from receiver: The receiving end acknowledges the FIN with an ACK packet.</li><li>FIN from receiver: The receiving end then sends its own FIN packet to indicate it&rsquo;s ready to close.</li><li>ACK from initiator: The initiating end acknowledges this FIN with a final ACK.</li></ol><h2 id=tcp-time-wait>TCP TIME-WAIT<a hidden class=anchor aria-hidden=true href=#tcp-time-wait>#</a></h2><p>After a connection is closed, the closing party enters a TIME-WAIT state. This state typically lasts for 2 * Maximum Segment Lifetime (MSL), usually around 2-4 minutes. The TIME-WAIT state serves two main purposes:</p><ul><li>Ensures that any delayed packets from the closed connection are handled properly and don&rsquo;t interfere with new connections.</li><li>Allows for proper closure of both sides of the connection, preventing potential issues with subsequent connections.</li></ul><h2 id=how-to-implement-a-basic-tcp-like-protocol-using-udp>How to implement a basic TCP-like protocol using UDP？<a hidden class=anchor aria-hidden=true href=#how-to-implement-a-basic-tcp-like-protocol-using-udp>#</a></h2><ol><li><p>Connection Establishment
Implement a three-way handshake similar to TCP</p></li><li><p>Sequence Numbers
Assign sequence numbers to each packet
Use these to detect packet loss and ensure correct ordering</p></li><li><p>Acknowledgments
Receiver sends acknowledgments for received packets
Sender retransmits packets that aren&rsquo;t acknowledged within a timeout period</p></li><li><p>Flow Control
Implement a simple sliding window protocol
Receiver advertises available buffer space</p></li><li><p>Error Detection
Use checksums or CRC to detect corrupted packets
Discard or request retransmission of corrupted packets</p></li><li><p>Connection Termination
Implement a four-way handshake for connection termination</p></li></ol><h2 id=http-keep-alive>Http Keep-Alive<a hidden class=anchor aria-hidden=true href=#http-keep-alive>#</a></h2><p>In this example, the idle timeout is set to ten seconds and it can accept up to 100 HTTP requests before the HTTP Connection is forcibly closed.</p><p><em>Response</em></p><pre tabindex=0><code>HTTP/1.1 200 OK
Connection: keep-alive
Content-Type: text/html; chartset=utf-8
Keep-Alive: timeout=10, max=100
</code></pre><h2 id=session-id-and-session-key>Session ID and Session Key<a hidden class=anchor aria-hidden=true href=#session-id-and-session-key>#</a></h2><table><thead><tr><th style=text-align:left>Aspect</th><th style=text-align:left><strong>Session ID</strong></th><th style=text-align:left><strong>Session Key</strong></th></tr></thead><tbody><tr><td style=text-align:left><strong>Purpose</strong></td><td style=text-align:left>Uniquely identifies a session between client and server.</td><td style=text-align:left>Secures communication or encrypts session data.</td></tr><tr><td style=text-align:left><strong>Type</strong></td><td style=text-align:left>A random string or token.</td><td style=text-align:left>A cryptographic key.</td></tr><tr><td style=text-align:left><strong>Use Case</strong></td><td style=text-align:left>Used to look up session data on the server.</td><td style=text-align:left>Used to encrypt/decrypt data during a session.</td></tr><tr><td style=text-align:left><strong>Storage</strong></td><td style=text-align:left>Stored in cookies (client) and server memory.</td><td style=text-align:left>Stored in memory (for encryption) or negotiated during SSL/TLS.</td></tr><tr><td style=text-align:left><strong>Sensitive Info</strong></td><td style=text-align:left>Does not contain sensitive info (just an ID).</td><td style=text-align:left>Contains sensitive info (used for encryption).</td></tr><tr><td style=text-align:left><strong>Security Role</strong></td><td style=text-align:left>Identifies the user&rsquo;s session, but doesn&rsquo;t secure data directly.</td><td style=text-align:left>Ensures data confidentiality and integrity.</td></tr></tbody></table><h2 id=tp99-tp95-tp90>Tp99 Tp95 Tp90<a hidden class=anchor aria-hidden=true href=#tp99-tp95-tp90>#</a></h2><p>It represents the value below which 95% of the observations in a dataset fall.</p><ol><li><p><strong>Sort the Data</strong>: Arrange all data points in ascending order.</p></li><li><p><strong>Calculate the Index</strong>: Use the formula: <code>index = (n * 0.95) + 0.5</code>, where <code>n</code> is the number of data points.</p><ul><li>If the result is not a whole number, round up to the nearest integer.</li></ul></li><li><p><strong>Find the Value</strong>: The TP95 is the value at the calculated index position in the sorted dataset.</p></li></ol><h2 id=tcp-alive>Tcp Alive<a hidden class=anchor aria-hidden=true href=#tcp-alive>#</a></h2><p>fuck byte
短视频去重
bloom过滤器 原理 ，redis 中怎么支持
rocksDB 如何保证快速读写
简历一致性哈希</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bleedkagax.github.io/tags/network/>Network</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://bleedkagax.github.io/>Kaga Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script><script>(function(){var e=document.querySelectorAll("pre > code.language-mermaid");e.forEach(function(e){var t,n=e.parentElement;if(!n)return;t=document.createElement("div"),t.className="mermaid",t.textContent=e.textContent||"",n.replaceWith(t)})})()</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>