<!doctype html><html class="not-ready lg:text-base" style=--bg:#faf8f1 lang=en-us dir=ltr><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Epoll - Kaga Blog</title>
<meta name=theme-color><meta name=description content="epoll (Linux): An Efficient I/O Multiplexing Mechanism
epoll operates on an event-driven model, meaning it only notifies the application when an event occurs on a specific file descriptor, unlike select and poll which poll all descriptors regardless of activity. This drastically reduces overhead, especially when managing numerous connections.
Key Features and Functionality
The core functionality revolves around three system calls:


epoll_create(size): Creates an epoll instance and returns an epoll file descriptor.  While size was initially used to hint at the number of file descriptors, modern kernels largely ignore it."><meta name=author content="Kaga Blog"><link rel="preload stylesheet" as=style href=https://bleedkagax.github.io/main.min.css><link rel=preload as=image href=https://bleedkagax.github.io/theme.png><script defer src=https://bleedkagax.github.io/highlight.min.js onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://bleedkagax.github.io/favicon.ico><link rel=apple-touch-icon href=https://bleedkagax.github.io/apple-touch-icon.png><meta name=generator content="Hugo 0.134.0"><meta itemprop=name content="Epoll"><meta itemprop=description content="epoll (Linux): An Efficient I/O Multiplexing Mechanism epoll operates on an event-driven model, meaning it only notifies the application when an event occurs on a specific file descriptor, unlike select and poll which poll all descriptors regardless of activity. This drastically reduces overhead, especially when managing numerous connections.
Key Features and Functionality The core functionality revolves around three system calls:
epoll_create(size): Creates an epoll instance and returns an epoll file descriptor. While size was initially used to hint at the number of file descriptors, modern kernels largely ignore it."><meta itemprop=datePublished content="2024-10-03T00:00:00+00:00"><meta itemprop=dateModified content="2024-10-03T00:00:00+00:00"><meta itemprop=wordCount content="347"><meta itemprop=keywords content="OperatingSystem"><meta property="og:url" content="https://bleedkagax.github.io/post/1_epoll/"><meta property="og:site_name" content="Kaga Blog"><meta property="og:title" content="Epoll"><meta property="og:description" content="epoll (Linux): An Efficient I/O Multiplexing Mechanism epoll operates on an event-driven model, meaning it only notifies the application when an event occurs on a specific file descriptor, unlike select and poll which poll all descriptors regardless of activity. This drastically reduces overhead, especially when managing numerous connections.
Key Features and Functionality The core functionality revolves around three system calls:
epoll_create(size): Creates an epoll instance and returns an epoll file descriptor. While size was initially used to hint at the number of file descriptors, modern kernels largely ignore it."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-10-03T00:00:00+00:00"><meta property="article:modified_time" content="2024-10-03T00:00:00+00:00"><meta property="article:tag" content="OperatingSystem"><meta name=twitter:card content="summary"><meta name=twitter:title content="Epoll"><meta name=twitter:description content="epoll (Linux): An Efficient I/O Multiplexing Mechanism epoll operates on an event-driven model, meaning it only notifies the application when an event occurs on a specific file descriptor, unlike select and poll which poll all descriptors regardless of activity. This drastically reduces overhead, especially when managing numerous connections.
Key Features and Functionality The core functionality revolves around three system calls:
epoll_create(size): Creates an epoll instance and returns an epoll file descriptor. While size was initially used to hint at the number of file descriptors, modern kernels largely ignore it."><link rel=canonical href=https://bleedkagax.github.io/post/1_epoll/></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[4.5rem] max-w-[--w] px-8 lg:justify-center"><div class="relative z-50 ltr:mr-auto rtl:ml-auto flex items-center"><a class="-translate-y-[1px] text-2xl font-medium" href=https://bleedkagax.github.io/>Kaga Blog</a><div class="btn-dark text-[0] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]" role=button aria-label=Dark></div></div><div class="btn-menu relative z-50 ltr:-mr-8 rtl:-ml-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden" role=button aria-label=Menu></div><script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg="#faf8f1".replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-[--w] px-8 pb-16 pt-14 dark:prose-invert"><article><header class=mb-14><h1 class="!my-0 pb-2.5">Epoll</h1><div class="text-xs antialiased opacity-60"><time>Oct 3, 2024</time></div></header><section><h1 id=epoll-linux-an-efficient-io-multiplexing-mechanism><code>epoll</code> (Linux): An Efficient I/O Multiplexing Mechanism</h1><p><code>epoll</code> operates on an event-driven model, meaning it only notifies the application when an event occurs on a specific file descriptor, unlike <code>select</code> and <code>poll</code> which poll all descriptors regardless of activity. This drastically reduces overhead, especially when managing numerous connections.</p><h2 id=key-features-and-functionality>Key Features and Functionality</h2><p>The core functionality revolves around three system calls:</p><ol><li><p><strong><code>epoll_create(size)</code>:</strong> Creates an <code>epoll</code> instance and returns an <code>epoll</code> file descriptor. While <code>size</code> was initially used to hint at the number of file descriptors, modern kernels largely ignore it.</p></li><li><p><strong><code>epoll_ctl(epfd, op, fd, event)</code>:</strong> Manages the set of file descriptors monitored by the <code>epoll</code> instance (<code>epfd</code>). <code>op</code> specifies the operation (ADD, MODIFY, or DELETE), <code>fd</code> is the file descriptor to manage, and <code>event</code> defines the events of interest (read, write, error, etc.).</p></li><li><p><strong><code>epoll_wait(epfd, events, maxevents, timeout)</code>:</strong> Waits for events on the registered file descriptors. It blocks until at least one event occurs or a timeout expires. <code>events</code> is a pre-allocated array where <code>epoll_wait</code> populates information about the triggered events. <code>maxevents</code> specifies the maximum number of events to return.</p></li></ol><h2 id=scalability-and-efficiency>Scalability and Efficiency</h2><p><code>epoll</code>&rsquo;s efficiency stems from its use of a kernel-level data structure (often a red-black tree) to manage monitored file descriptors. This allows it to handle a massive number of descriptors with minimal performance degradation, a significant advantage over <code>select</code> and <code>poll</code>, which suffer from performance bottlenecks as the number of descriptors grows.</p><h2 id=edge-triggered-vs-level-triggered>Edge-Triggered vs. Level-Triggered</h2><p><code>epoll</code> offers two triggering modes:</p><ul><li><p><strong>Level-triggered:</strong> <code>epoll_wait</code> returns an event as long as the condition (e.g., data available for reading) persists. If the application doesn&rsquo;t process the event immediately, <code>epoll_wait</code> will continue to return it.</p></li><li><p><strong>Edge-triggered:</strong> <code>epoll_wait</code> only returns an event when the condition <em>transitions</em> from false to true. This is more efficient but requires careful handling to ensure no events are missed. The application must process all available data in a single <code>epoll_wait</code> cycle.</p></li></ul><h2 id=use-cases>Use Cases</h2><p><code>epoll</code> is extensively used in high-performance network servers and applications requiring efficient management of numerous concurrent connections or I/O operations. Its scalability and event-driven nature make it a crucial component in many modern network architectures.</p></section><footer class="mt-12 flex flex-wrap"><a class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]" href=https://bleedkagax.github.io/tags/operatingsystem>OperatingSystem</a></footer><nav class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg !leading-[1.2] *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"><a class="ltr:pr-3 rtl:pl-3" href=https://bleedkagax.github.io/post/2_subnet/><span class="ltr:mr-1.5 rtl:ml-1.5">←</span><span>Subnet and Subnet</span></a>
<a class="ltr:ml-auto rtl:mr-auto justify-end pl-3" href=https://bleedkagax.github.io/post/2_mysql_isolation_levels/><span>MySQL's Transaction Isolation Levels</span><span class="ltr:ml-1.5 rtl:mr-1.5">→</span></a></nav><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script><script>Array.from(document.getElementsByClassName("language-mermaid")).forEach(e=>{e.parentElement.outerHTML=`<div class="mermaid [&_svg]:block [&_svg]:m-auto">${e.innerHTML}</div>`})</script></article></main><footer class="mx-auto flex h-[4.5rem] max-w-[--w] items-center px-8 text-xs uppercase tracking-wider opacity-60"><div class=mr-auto>&copy; 2025
<a class=link href=https://bleedkagax.github.io/>Kaga Blog</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>powered by hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>hugo-paper</a></footer></body></html>