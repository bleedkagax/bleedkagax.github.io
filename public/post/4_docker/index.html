<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker | Kaga Blog</title>
<meta name=keywords content="SystemDesign"><meta name=description content="Docker Guidelines
Dockerfile Best Practices
Use Official Base Images

Why: Official images are maintained and frequently updated, ensuring reliability and security.
How:
FROM node:14-alpine


Minimize Image Size


Why: Smaller images lead to faster deployments and reduced storage costs.


How:

Use minimal base images (e.g., Alpine Linux).
Remove unnecessary packages and files.
Combine commands to reduce layers.

RUN apt-get update && \
    apt-get install -y package1 package2 && \
    rm -rf /var/lib/apt/lists/*
"><meta name=author content><link rel=canonical href=https://bleedkagax.github.io/post/4_docker/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://bleedkagax.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://bleedkagax.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://bleedkagax.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://bleedkagax.github.io/apple-touch-icon.png><link rel=mask-icon href=https://bleedkagax.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://bleedkagax.github.io/post/4_docker/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Docker"><meta property="og:description" content="Docker Guidelines
Dockerfile Best Practices
Use Official Base Images

Why: Official images are maintained and frequently updated, ensuring reliability and security.
How:
FROM node:14-alpine


Minimize Image Size


Why: Smaller images lead to faster deployments and reduced storage costs.


How:

Use minimal base images (e.g., Alpine Linux).
Remove unnecessary packages and files.
Combine commands to reduce layers.

RUN apt-get update && \
    apt-get install -y package1 package2 && \
    rm -rf /var/lib/apt/lists/*
"><meta property="og:type" content="article"><meta property="og:url" content="https://bleedkagax.github.io/post/4_docker/"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-10-15T00:00:00+00:00"><meta property="article:modified_time" content="2024-10-15T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker"><meta name=twitter:description content="Docker Guidelines
Dockerfile Best Practices
Use Official Base Images

Why: Official images are maintained and frequently updated, ensuring reliability and security.
How:
FROM node:14-alpine


Minimize Image Size


Why: Smaller images lead to faster deployments and reduced storage costs.


How:

Use minimal base images (e.g., Alpine Linux).
Remove unnecessary packages and files.
Combine commands to reduce layers.

RUN apt-get update && \
    apt-get install -y package1 package2 && \
    rm -rf /var/lib/apt/lists/*
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://bleedkagax.github.io/post/"},{"@type":"ListItem","position":2,"name":"Docker","item":"https://bleedkagax.github.io/post/4_docker/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Docker","name":"Docker","description":"Docker Guidelines Dockerfile Best Practices Use Official Base Images Why: Official images are maintained and frequently updated, ensuring reliability and security. How: FROM node:14-alpine Minimize Image Size Why: Smaller images lead to faster deployments and reduced storage costs.\nHow:\nUse minimal base images (e.g., Alpine Linux). Remove unnecessary packages and files. Combine commands to reduce layers. RUN apt-get update \u0026amp;\u0026amp; \\ apt-get install -y package1 package2 \u0026amp;\u0026amp; \\ rm -rf /var/lib/apt/lists/* ","keywords":["SystemDesign"],"articleBody":"Docker Guidelines Dockerfile Best Practices Use Official Base Images Why: Official images are maintained and frequently updated, ensuring reliability and security. How: FROM node:14-alpine Minimize Image Size Why: Smaller images lead to faster deployments and reduced storage costs.\nHow:\nUse minimal base images (e.g., Alpine Linux). Remove unnecessary packages and files. Combine commands to reduce layers. RUN apt-get update \u0026\u0026 \\ apt-get install -y package1 package2 \u0026\u0026 \\ rm -rf /var/lib/apt/lists/* Leverage Caching Why: Utilizing Dockerâ€™s layer caching speeds up builds.\nHow:\nOrder commands from least to most frequently changing. Place frequently changing commands towards the bottom. COPY package.json ./ RUN npm install COPY . . Use Multi-Stage Builds Why: Reduce final image size by excluding build dependencies. How: FROM golang:1.16 AS builder WORKDIR /app COPY . . RUN go build -o myapp FROM alpine:latest WORKDIR /root/ COPY --from=builder /app/myapp . CMD [\"./myapp\"] Optimize Layer Usage Why: Fewer layers can lead to more efficient images. How: Combine related commands using \u0026\u0026. Clean up temporary files within the same RUN statement. .dockerignore File Why: Excludes unnecessary files from the build context, speeding up builds and reducing image size. How: node_modules *.log .git Specify Exact Versions Why: Ensures consistent builds by avoiding unexpected updates. How: FROM python:3.8.10-slim Run as Non-Root User Why: Enhances security by minimizing the potential impact of container compromises. How: RUN useradd -m appuser USER appuser Image Versioning and Tagging Consistency: Always tag images with specific versions rather than latest.\ndocker build -t myapp:1.0.0 . Semantic Versioning: Use semantic versioning (MAJOR.MINOR.PATCH) to indicate changes.\nAutomated Tags: Integrate with CI/CD to automate version tagging based on commits or releases.\nSecurity Best Practices Regularly Update Images Action: Rebuild images with the latest base images and dependencies to include security patches. Scan Images for Vulnerabilities Tools: Use scanners like Clair, Trivy, or Docker Security Scanning. trivy image myapp:1.0.0 Limit Container Privileges Action:\nAvoid running containers as root. Use Dockerâ€™s --cap-drop and --cap-add to fine-tune capabilities. Enable read-only file systems when possible. docker run --cap-drop=ALL --read-only myapp:1.0.0 Use Secrets Management Action: Store sensitive data outside images using Docker Secrets or environment variables managed securely.\ndocker secret create db_password ./db_password.txt Resource Management Set Resource Limits Why: Prevent containers from consuming excessive resources, ensuring system stability. How: docker run -m 512m --cpus=\"1.0\" myapp:1.0.0 Monitor Resource Usage Tools: Utilize monitoring solutions like Prometheus, Grafana, or Docker Stats. docker stats Networking Use User-Defined Networks Why: Provides better isolation and DNS-based service discovery. How: docker network create mynetwork docker run --network=mynetwork myapp:1.0.0 Manage Port Exposure Action:\nOnly expose necessary ports. Use Dockerâ€™s port mapping to manage accessibility. docker run -p 8080:80 myapp:1.0.0 Data Management Use Volumes for Persistent Data Why: Ensures data persists beyond the container lifecycle. How: docker volume create mydata docker run -v mydata:/var/lib/data myapp:1.0.0 Avoid Storing Data in Images Action: Do not embed dynamic or persistent data within Docker images. Use volumes or external storage solutions instead. Naming Conventions Containers Format: __ Example: webapp_api_1 Images Format: /: Example: mycompany/webapp:1.0.0 Networks and Volumes Format: _ Example: webapp_network, webapp_data Logging and Monitoring Centralize Logs Why: Simplifies log management and analysis. How: Use logging drivers or external systems like ELK Stack or Graylog. docker run --log-driver=json-file myapp:1.0.0 Implement Monitoring Solutions Tools: Prometheus, Grafana, Datadog, New Relic. Action: Monitor container metrics, application performance, and system health. Deployment Guidelines Use Orchestration Tools Tools: Kubernetes, Docker Swarm, Apache Mesos Why: Facilitates scalable, reliable deployments with features like load balancing, service discovery, and automated rollouts. Automate Deployments Action: Integrate Docker with CI/CD pipelines using tools like Jenkins, GitLab CI/CD, or GitHub Actions. Benefit: Ensures consistent and repeatable deployments. CI/CD Integration Automate Image Builds Action: Trigger Docker builds automatically on code commits or merges. Example (GitHub Actions): name: CI on: push: branches: [ main ] jobs: build: runs-on: ubuntu-latest steps: - uses: actions/checkout@v2 - name: Build Docker Image run: docker build -t myapp:${{ github.sha }} . Implement Automated Testing Action: Run tests within Docker containers to ensure consistency. Benefit: Detect issues early in the development pipeline. Maintenance and Cleanup Regularly Prune Unused Resources Action: Remove dangling images, stopped containers, unused volumes, and networks. docker system prune -a Rotate and Backup Data Action: Implement data backup strategies for persistent volumes. Tools: rsync, Volume Backup Plugins, cloud storage solutions. Troubleshooting Tips Inspect Containers:\ndocker inspect View Logs:\ndocker logs Access Container Shell:\ndocker exec -it /bin/sh Check Network Connectivity:\ndocker network inspect Diagnose with Docker Events:\ndocker events Examples Sample Dockerfile # Use official Node.js LTS version FROM node:14-alpine # Set working directory WORKDIR /app # Copy package.json and install dependencies COPY package.json package-lock.json ./ RUN npm install --production # Copy application code COPY . . # Expose the application port EXPOSE 3000 # Define the entry point CMD [\"node\", \"server.js\"] Docker Compose Example version: '3.8' services: web: build: . ports: - \"3000:3000\" volumes: - .:/app - web_data:/var/lib/web environment: NODE_ENV: production networks: - webnet db: image: postgres:13 restart: always environment: POSTGRES_USER: user POSTGRES_PASSWORD: password volumes: - db_data:/var/lib/postgresql/data networks: - webnet volumes: web_data: db_data: networks: webnet: Happy Dockering! ðŸš€\n","wordCount":"837","inLanguage":"en","datePublished":"2024-10-15T00:00:00Z","dateModified":"2024-10-15T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://bleedkagax.github.io/post/4_docker/"},"publisher":{"@type":"Organization","name":"Kaga Blog","logo":{"@type":"ImageObject","url":"https://bleedkagax.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bleedkagax.github.io/ accesskey=h title="Kaga Blog (Alt + H)">Kaga Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bleedkagax.github.io/post/ title=Posts><span>Posts</span></a></li><li><a href=https://bleedkagax.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://bleedkagax.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://bleedkagax.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://bleedkagax.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Docker</h1><div class=post-meta><span title='2024-10-15 00:00:00 +0000 UTC'>October 15, 2024</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#docker-guidelines aria-label="Docker Guidelines">Docker Guidelines</a><ul><li><a href=#dockerfile-best-practices aria-label="Dockerfile Best Practices">Dockerfile Best Practices</a><ul><li><a href=#use-official-base-images aria-label="Use Official Base Images">Use Official Base Images</a></li><li><a href=#minimize-image-size aria-label="Minimize Image Size">Minimize Image Size</a></li><li><a href=#leverage-caching aria-label="Leverage Caching">Leverage Caching</a></li><li><a href=#use-multi-stage-builds aria-label="Use Multi-Stage Builds">Use Multi-Stage Builds</a></li><li><a href=#optimize-layer-usage aria-label="Optimize Layer Usage">Optimize Layer Usage</a></li><li><a href=#dockerignore-file aria-label=".dockerignore File">.dockerignore File</a></li><li><a href=#specify-exact-versions aria-label="Specify Exact Versions">Specify Exact Versions</a></li><li><a href=#run-as-non-root-user aria-label="Run as Non-Root User">Run as Non-Root User</a></li></ul></li><li><a href=#image-versioning-and-tagging aria-label="Image Versioning and Tagging">Image Versioning and Tagging</a></li><li><a href=#security-best-practices aria-label="Security Best Practices">Security Best Practices</a><ul><li><a href=#regularly-update-images aria-label="Regularly Update Images">Regularly Update Images</a></li><li><a href=#scan-images-for-vulnerabilities aria-label="Scan Images for Vulnerabilities">Scan Images for Vulnerabilities</a></li><li><a href=#limit-container-privileges aria-label="Limit Container Privileges">Limit Container Privileges</a></li><li><a href=#use-secrets-management aria-label="Use Secrets Management">Use Secrets Management</a></li></ul></li><li><a href=#resource-management aria-label="Resource Management">Resource Management</a><ul><li><a href=#set-resource-limits aria-label="Set Resource Limits">Set Resource Limits</a></li><li><a href=#monitor-resource-usage aria-label="Monitor Resource Usage">Monitor Resource Usage</a></li></ul></li><li><a href=#networking aria-label=Networking>Networking</a><ul><li><a href=#use-user-defined-networks aria-label="Use User-Defined Networks">Use User-Defined Networks</a></li><li><a href=#manage-port-exposure aria-label="Manage Port Exposure">Manage Port Exposure</a></li></ul></li><li><a href=#data-management aria-label="Data Management">Data Management</a><ul><li><a href=#use-volumes-for-persistent-data aria-label="Use Volumes for Persistent Data">Use Volumes for Persistent Data</a></li><li><a href=#avoid-storing-data-in-images aria-label="Avoid Storing Data in Images">Avoid Storing Data in Images</a></li></ul></li><li><a href=#naming-conventions aria-label="Naming Conventions">Naming Conventions</a><ul><li><a href=#containers aria-label=Containers>Containers</a></li><li><a href=#images aria-label=Images>Images</a></li><li><a href=#networks-and-volumes aria-label="Networks and Volumes">Networks and Volumes</a></li></ul></li><li><a href=#logging-and-monitoring aria-label="Logging and Monitoring">Logging and Monitoring</a><ul><li><a href=#centralize-logs aria-label="Centralize Logs">Centralize Logs</a></li><li><a href=#implement-monitoring-solutions aria-label="Implement Monitoring Solutions">Implement Monitoring Solutions</a></li></ul></li><li><a href=#deployment-guidelines aria-label="Deployment Guidelines">Deployment Guidelines</a><ul><li><a href=#use-orchestration-tools aria-label="Use Orchestration Tools">Use Orchestration Tools</a></li><li><a href=#automate-deployments aria-label="Automate Deployments">Automate Deployments</a></li></ul></li><li><a href=#cicd-integration aria-label="CI/CD Integration">CI/CD Integration</a><ul><li><a href=#automate-image-builds aria-label="Automate Image Builds">Automate Image Builds</a></li><li><a href=#implement-automated-testing aria-label="Implement Automated Testing">Implement Automated Testing</a></li></ul></li><li><a href=#maintenance-and-cleanup aria-label="Maintenance and Cleanup">Maintenance and Cleanup</a><ul><li><a href=#regularly-prune-unused-resources aria-label="Regularly Prune Unused Resources">Regularly Prune Unused Resources</a></li><li><a href=#rotate-and-backup-data aria-label="Rotate and Backup Data">Rotate and Backup Data</a></li></ul></li><li><a href=#troubleshooting-tips aria-label="Troubleshooting Tips">Troubleshooting Tips</a></li><li><a href=#examples aria-label=Examples>Examples</a><ul><li><a href=#sample-dockerfile aria-label="Sample Dockerfile">Sample Dockerfile</a></li><li><a href=#docker-compose-example aria-label="Docker Compose Example">Docker Compose Example</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h1 id=docker-guidelines>Docker Guidelines<a hidden class=anchor aria-hidden=true href=#docker-guidelines>#</a></h1><h2 id=dockerfile-best-practices>Dockerfile Best Practices<a hidden class=anchor aria-hidden=true href=#dockerfile-best-practices>#</a></h2><h3 id=use-official-base-images>Use Official Base Images<a hidden class=anchor aria-hidden=true href=#use-official-base-images>#</a></h3><ul><li><strong>Why</strong>: Official images are maintained and frequently updated, ensuring reliability and security.</li><li><strong>How</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> node:14-alpine</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div></li></ul><h3 id=minimize-image-size>Minimize Image Size<a hidden class=anchor aria-hidden=true href=#minimize-image-size>#</a></h3><ul><li><p><strong>Why</strong>: Smaller images lead to faster deployments and reduced storage costs.</p></li><li><p><strong>How</strong>:</p><ul><li>Use minimal base images (e.g., Alpine Linux).</li><li>Remove unnecessary packages and files.</li><li>Combine commands to reduce layers.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>RUN</span> apt-get update <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    apt-get install -y package1 package2 <span style=color:#f92672>&amp;&amp;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    rm -rf /var/lib/apt/lists/*<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div></li></ul><h3 id=leverage-caching>Leverage Caching<a hidden class=anchor aria-hidden=true href=#leverage-caching>#</a></h3><ul><li><p><strong>Why</strong>: Utilizing Dockerâ€™s layer caching speeds up builds.</p></li><li><p><strong>How</strong>:</p><ul><li>Order commands from least to most frequently changing.</li><li>Place frequently changing commands towards the bottom.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>COPY</span> package.json ./<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> npm install<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> . .<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div></li></ul><h3 id=use-multi-stage-builds>Use Multi-Stage Builds<a hidden class=anchor aria-hidden=true href=#use-multi-stage-builds>#</a></h3><ul><li><strong>Why</strong>: Reduce final image size by excluding build dependencies.</li><li><strong>How</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> golang:1.16 AS builder</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /app</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> . .<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> go build -o myapp<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> alpine:latest</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /root/</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> --from<span style=color:#f92672>=</span>builder /app/myapp .<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;./myapp&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div></li></ul><h3 id=optimize-layer-usage>Optimize Layer Usage<a hidden class=anchor aria-hidden=true href=#optimize-layer-usage>#</a></h3><ul><li><strong>Why</strong>: Fewer layers can lead to more efficient images.</li><li><strong>How</strong>:<ul><li>Combine related commands using <code>&&</code>.</li><li>Clean up temporary files within the same <code>RUN</code> statement.</li></ul></li></ul><h3 id=dockerignore-file>.dockerignore File<a hidden class=anchor aria-hidden=true href=#dockerignore-file>#</a></h3><ul><li><strong>Why</strong>: Excludes unnecessary files from the build context, speeding up builds and reducing image size.</li><li><strong>How</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>node_modules
</span></span><span style=display:flex><span>*.log
</span></span><span style=display:flex><span>.git
</span></span></code></pre></div></li></ul><h3 id=specify-exact-versions>Specify Exact Versions<a hidden class=anchor aria-hidden=true href=#specify-exact-versions>#</a></h3><ul><li><strong>Why</strong>: Ensures consistent builds by avoiding unexpected updates.</li><li><strong>How</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> python:3.8.10-slim</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div></li></ul><h3 id=run-as-non-root-user>Run as Non-Root User<a hidden class=anchor aria-hidden=true href=#run-as-non-root-user>#</a></h3><ul><li><strong>Why</strong>: Enhances security by minimizing the potential impact of container compromises.</li><li><strong>How</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#66d9ef>RUN</span> useradd -m appuser<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>USER</span><span style=color:#e6db74> appuser</span><span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div></li></ul><h2 id=image-versioning-and-tagging>Image Versioning and Tagging<a hidden class=anchor aria-hidden=true href=#image-versioning-and-tagging>#</a></h2><ul><li><p><strong>Consistency</strong>: Always tag images with specific versions rather than <code>latest</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker build -t myapp:1.0.0 .
</span></span></code></pre></div></li><li><p><strong>Semantic Versioning</strong>: Use semantic versioning (MAJOR.MINOR.PATCH) to indicate changes.</p></li><li><p><strong>Automated Tags</strong>: Integrate with CI/CD to automate version tagging based on commits or releases.</p></li></ul><h2 id=security-best-practices>Security Best Practices<a hidden class=anchor aria-hidden=true href=#security-best-practices>#</a></h2><h3 id=regularly-update-images>Regularly Update Images<a hidden class=anchor aria-hidden=true href=#regularly-update-images>#</a></h3><ul><li><strong>Action</strong>: Rebuild images with the latest base images and dependencies to include security patches.</li></ul><h3 id=scan-images-for-vulnerabilities>Scan Images for Vulnerabilities<a hidden class=anchor aria-hidden=true href=#scan-images-for-vulnerabilities>#</a></h3><ul><li><strong>Tools</strong>: Use scanners like <strong>Clair</strong>, <strong>Trivy</strong>, or <strong>Docker Security Scanning</strong>.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>trivy image myapp:1.0.0
</span></span></code></pre></div></li></ul><h3 id=limit-container-privileges>Limit Container Privileges<a hidden class=anchor aria-hidden=true href=#limit-container-privileges>#</a></h3><ul><li><p><strong>Action</strong>:</p><ul><li>Avoid running containers as root.</li><li>Use Dockerâ€™s <code>--cap-drop</code> and <code>--cap-add</code> to fine-tune capabilities.</li><li>Enable read-only file systems when possible.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run --cap-drop<span style=color:#f92672>=</span>ALL --read-only myapp:1.0.0
</span></span></code></pre></div></li></ul><h3 id=use-secrets-management>Use Secrets Management<a hidden class=anchor aria-hidden=true href=#use-secrets-management>#</a></h3><ul><li><p><strong>Action</strong>: Store sensitive data outside images using Docker Secrets or environment variables managed securely.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker secret create db_password ./db_password.txt
</span></span></code></pre></div></li></ul><h2 id=resource-management>Resource Management<a hidden class=anchor aria-hidden=true href=#resource-management>#</a></h2><h3 id=set-resource-limits>Set Resource Limits<a hidden class=anchor aria-hidden=true href=#set-resource-limits>#</a></h3><ul><li><strong>Why</strong>: Prevent containers from consuming excessive resources, ensuring system stability.</li><li><strong>How</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run -m 512m --cpus<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1.0&#34;</span> myapp:1.0.0
</span></span></code></pre></div></li></ul><h3 id=monitor-resource-usage>Monitor Resource Usage<a hidden class=anchor aria-hidden=true href=#monitor-resource-usage>#</a></h3><ul><li><strong>Tools</strong>: Utilize monitoring solutions like <strong>Prometheus</strong>, <strong>Grafana</strong>, or <strong>Docker Stats</strong>.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker stats
</span></span></code></pre></div></li></ul><h2 id=networking>Networking<a hidden class=anchor aria-hidden=true href=#networking>#</a></h2><h3 id=use-user-defined-networks>Use User-Defined Networks<a hidden class=anchor aria-hidden=true href=#use-user-defined-networks>#</a></h3><ul><li><strong>Why</strong>: Provides better isolation and DNS-based service discovery.</li><li><strong>How</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker network create mynetwork
</span></span><span style=display:flex><span>docker run --network<span style=color:#f92672>=</span>mynetwork myapp:1.0.0
</span></span></code></pre></div></li></ul><h3 id=manage-port-exposure>Manage Port Exposure<a hidden class=anchor aria-hidden=true href=#manage-port-exposure>#</a></h3><ul><li><p><strong>Action</strong>:</p><ul><li>Only expose necessary ports.</li><li>Use Dockerâ€™s port mapping to manage accessibility.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run -p 8080:80 myapp:1.0.0
</span></span></code></pre></div></li></ul><h2 id=data-management>Data Management<a hidden class=anchor aria-hidden=true href=#data-management>#</a></h2><h3 id=use-volumes-for-persistent-data>Use Volumes for Persistent Data<a hidden class=anchor aria-hidden=true href=#use-volumes-for-persistent-data>#</a></h3><ul><li><strong>Why</strong>: Ensures data persists beyond the container lifecycle.</li><li><strong>How</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker volume create mydata
</span></span><span style=display:flex><span>docker run -v mydata:/var/lib/data myapp:1.0.0
</span></span></code></pre></div></li></ul><h3 id=avoid-storing-data-in-images>Avoid Storing Data in Images<a hidden class=anchor aria-hidden=true href=#avoid-storing-data-in-images>#</a></h3><ul><li><strong>Action</strong>: Do not embed dynamic or persistent data within Docker images. Use volumes or external storage solutions instead.</li></ul><h2 id=naming-conventions>Naming Conventions<a hidden class=anchor aria-hidden=true href=#naming-conventions>#</a></h2><h3 id=containers>Containers<a hidden class=anchor aria-hidden=true href=#containers>#</a></h3><ul><li><strong>Format</strong>: <code>&lt;project>_&lt;service>_&lt;instance></code></li><li><strong>Example</strong>: <code>webapp_api_1</code></li></ul><h3 id=images>Images<a hidden class=anchor aria-hidden=true href=#images>#</a></h3><ul><li><strong>Format</strong>: <code>&lt;repository>/&lt;image>:&lt;tag></code></li><li><strong>Example</strong>: <code>mycompany/webapp:1.0.0</code></li></ul><h3 id=networks-and-volumes>Networks and Volumes<a hidden class=anchor aria-hidden=true href=#networks-and-volumes>#</a></h3><ul><li><strong>Format</strong>: <code>&lt;project>_&lt;resource></code></li><li><strong>Example</strong>: <code>webapp_network</code>, <code>webapp_data</code></li></ul><h2 id=logging-and-monitoring>Logging and Monitoring<a hidden class=anchor aria-hidden=true href=#logging-and-monitoring>#</a></h2><h3 id=centralize-logs>Centralize Logs<a hidden class=anchor aria-hidden=true href=#centralize-logs>#</a></h3><ul><li><strong>Why</strong>: Simplifies log management and analysis.</li><li><strong>How</strong>: Use logging drivers or external systems like <strong>ELK Stack</strong> or <strong>Graylog</strong>.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker run --log-driver<span style=color:#f92672>=</span>json-file myapp:1.0.0
</span></span></code></pre></div></li></ul><h3 id=implement-monitoring-solutions>Implement Monitoring Solutions<a hidden class=anchor aria-hidden=true href=#implement-monitoring-solutions>#</a></h3><ul><li><strong>Tools</strong>: <strong>Prometheus</strong>, <strong>Grafana</strong>, <strong>Datadog</strong>, <strong>New Relic</strong>.</li><li><strong>Action</strong>: Monitor container metrics, application performance, and system health.</li></ul><h2 id=deployment-guidelines>Deployment Guidelines<a hidden class=anchor aria-hidden=true href=#deployment-guidelines>#</a></h2><h3 id=use-orchestration-tools>Use Orchestration Tools<a hidden class=anchor aria-hidden=true href=#use-orchestration-tools>#</a></h3><ul><li><strong>Tools</strong>: <strong>Kubernetes</strong>, <strong>Docker Swarm</strong>, <strong>Apache Mesos</strong></li><li><strong>Why</strong>: Facilitates scalable, reliable deployments with features like load balancing, service discovery, and automated rollouts.</li></ul><h3 id=automate-deployments>Automate Deployments<a hidden class=anchor aria-hidden=true href=#automate-deployments>#</a></h3><ul><li><strong>Action</strong>: Integrate Docker with CI/CD pipelines using tools like <strong>Jenkins</strong>, <strong>GitLab CI/CD</strong>, or <strong>GitHub Actions</strong>.</li><li><strong>Benefit</strong>: Ensures consistent and repeatable deployments.</li></ul><h2 id=cicd-integration>CI/CD Integration<a hidden class=anchor aria-hidden=true href=#cicd-integration>#</a></h2><h3 id=automate-image-builds>Automate Image Builds<a hidden class=anchor aria-hidden=true href=#automate-image-builds>#</a></h3><ul><li><strong>Action</strong>: Trigger Docker builds automatically on code commits or merges.</li><li><strong>Example (GitHub Actions)</strong>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>CI</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>push</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>branches</span>: [ <span style=color:#ae81ff>main ]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>build</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v2</span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build Docker Image</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: <span style=color:#ae81ff>docker build -t myapp:${{ github.sha }} .</span>
</span></span></code></pre></div></li></ul><h3 id=implement-automated-testing>Implement Automated Testing<a hidden class=anchor aria-hidden=true href=#implement-automated-testing>#</a></h3><ul><li><strong>Action</strong>: Run tests within Docker containers to ensure consistency.</li><li><strong>Benefit</strong>: Detect issues early in the development pipeline.</li></ul><h2 id=maintenance-and-cleanup>Maintenance and Cleanup<a hidden class=anchor aria-hidden=true href=#maintenance-and-cleanup>#</a></h2><h3 id=regularly-prune-unused-resources>Regularly Prune Unused Resources<a hidden class=anchor aria-hidden=true href=#regularly-prune-unused-resources>#</a></h3><ul><li><strong>Action</strong>: Remove dangling images, stopped containers, unused volumes, and networks.<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker system prune -a
</span></span></code></pre></div></li></ul><h3 id=rotate-and-backup-data>Rotate and Backup Data<a hidden class=anchor aria-hidden=true href=#rotate-and-backup-data>#</a></h3><ul><li><strong>Action</strong>: Implement data backup strategies for persistent volumes.</li><li><strong>Tools</strong>: <strong>rsync</strong>, <strong>Volume Backup Plugins</strong>, cloud storage solutions.</li></ul><h2 id=troubleshooting-tips>Troubleshooting Tips<a hidden class=anchor aria-hidden=true href=#troubleshooting-tips>#</a></h2><ul><li><p><strong>Inspect Containers</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker inspect &lt;container_id&gt;
</span></span></code></pre></div></li><li><p><strong>View Logs</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker logs &lt;container_id&gt;
</span></span></code></pre></div></li><li><p><strong>Access Container Shell</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker exec -it &lt;container_id&gt; /bin/sh
</span></span></code></pre></div></li><li><p><strong>Check Network Connectivity</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker network inspect &lt;network_name&gt;
</span></span></code></pre></div></li><li><p><strong>Diagnose with Docker Events</strong>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>docker events
</span></span></code></pre></div></li></ul><h2 id=examples>Examples<a hidden class=anchor aria-hidden=true href=#examples>#</a></h2><h3 id=sample-dockerfile>Sample Dockerfile<a hidden class=anchor aria-hidden=true href=#sample-dockerfile>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#75715e># Use official Node.js LTS version</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>FROM</span><span style=color:#e6db74> node:14-alpine</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Set working directory</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>WORKDIR</span><span style=color:#e6db74> /app</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Copy package.json and install dependencies</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> package.json package-lock.json ./<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>RUN</span> npm install --production<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Copy application code</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>COPY</span> . .<span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Expose the application port</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>EXPOSE</span><span style=color:#e6db74> 3000</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e># Define the entry point</span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span><span style=color:#66d9ef>CMD</span> [<span style=color:#e6db74>&#34;node&#34;</span>, <span style=color:#e6db74>&#34;server.js&#34;</span>]<span style=color:#960050;background-color:#1e0010>
</span></span></span></code></pre></div><h3 id=docker-compose-example>Docker Compose Example<a hidden class=anchor aria-hidden=true href=#docker-compose-example>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;3.8&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>web</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>build</span>: <span style=color:#ae81ff>.</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#34;3000:3000&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>.:/app</span>
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>web_data:/var/lib/web</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>NODE_ENV</span>: <span style=color:#ae81ff>production</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>networks</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>webnet</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>db</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>postgres:13</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>restart</span>: <span style=color:#ae81ff>always</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>POSTGRES_USER</span>: <span style=color:#ae81ff>user</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>POSTGRES_PASSWORD</span>: <span style=color:#ae81ff>password</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>db_data:/var/lib/postgresql/data</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>networks</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>webnet</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>volumes</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>web_data</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>db_data</span>:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>networks</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>webnet</span>:
</span></span></code></pre></div><p><strong>Happy Dockering!</strong> ðŸš€</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bleedkagax.github.io/tags/systemdesign/>SystemDesign</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://bleedkagax.github.io/>Kaga Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.9.1/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script><script>(function(){var e=document.querySelectorAll("pre > code.language-mermaid");e.forEach(function(e){var t,n=e.parentElement;if(!n)return;t=document.createElement("div"),t.className="mermaid",t.textContent=e.textContent||"",n.replaceWith(t)})})()</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>